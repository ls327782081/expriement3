# 实验
## 创新点 1：面向个性化偏好的多模态自适应语义 ID 生成框架
1.  现有研究痛点
当前多模态语义 ID 生成方法存在两个核心缺陷：

模态融合同质化：多数方法（如 FusID、MMQ）采用 “全局共享” 的模态权重融合策略，忽略了用户偏好的个性化差异—— 例如，对 “视觉敏感型” 用户，物品图片特征应赋予更高权重；对 “文本敏感型” 用户，物品标题 / 描述特征更重要。
静态编码语义漂移：现有语义 ID 是 “物品固定编码”，无法适配用户兴趣的动态变化（如用户短期兴趣从 “科幻电影” 转向 “喜剧电影”），导致 ID 的语义表征与用户实时偏好脱节。

2.  创新核心思路
提出 Personalized Multimodal Adaptive Tokenizer（PMAT） 框架，将用户历史行为上下文融入多模态语义 ID 生成过程，实现 “千人千面” 的个性化语义 ID 编码。核心设计包含两个关键模块：

个性化模态注意力权重分配
构建用户 - 模态偏好感知器：基于用户历史交互的多模态特征分布，学习用户对不同模态的偏好权重（如通过注意力机制计算用户 u 对视觉 / 文本 / 音频模态的权重 αuv​,αut​,αua​）。
动态融合多模态特征：将个性化权重融入多模态编码器，生成用户专属的物品多模态融合特征，而非全局统一特征。


兴趣感知的动态语义 ID 更新机制
设计短期兴趣窗口：捕捉用户近期交互行为的兴趣漂移，当用户兴趣发生显著变化时，触发语义 ID 的增量更新（而非完全重编码）。
引入语义一致性约束：通过对比学习，保证更新后的 ID 与用户历史兴趣的语义连贯性，避免编码漂移过大。



3.  创新价值与研究内容

理论价值：首次将用户个性化偏好与多模态语义 ID 生成深度耦合，突破了 “物品静态编码” 的范式，提出 “用户 - 物品交互驱动的动态编码” 新思想。
研究内容：
完成 PMAT 框架的数学建模与实现；
设计对比实验，验证个性化 ID 相比静态 ID 在推荐精度、多样性上的提升；
消融实验分析 “个性化模态权重”“动态更新机制” 的单独贡献。


实验可行性：可基于公开多模态推荐数据集（如 Amazon Reviews Multimodal、MM-Rec）验证，基线模型选择 FusID、MMQ 等经典多模态语义 ID 方法。

## 创新点 2：基于层级语义解耦的非自回归并行生成与检索优化方法
1.  现有研究痛点
语义 ID 生成式推荐的工业化落地瓶颈在于生成效率：

自回归生成速度慢：传统自回归模型生成长度为 L 的语义 ID，需 L 步串行推理，无法满足工业级推荐的实时性要求；
非自回归生成精度损失：现有非自回归方法（如 RPG）直接并行生成所有 token，存在解码无序、语义冲突问题（如生成的 ID 序列语义不连贯），导致推荐精度下降；
检索效率未与生成机制协同：多数方法生成完整 ID 后再进行暴力检索，未考虑 ID 的语义层级结构，检索耗时随词表规模增长线性上升。

2.  创新核心思路
提出 Hierarchical Decoupled Non-Autoregressive Generator（HDNAG） 方法，核心是 **“层级语义解耦 + 粗精两级生成与检索”**，在保证生成精度的前提下，将推理速度提升一个数量级。核心设计包含三个关键模块：

层级语义 ID 的解耦编码
将长语义 ID 拆分为 粗粒度层（Coarse-ID） 和 细粒度层（Fine-ID）：Coarse-ID 表征物品的大类语义（如 “电影 - 动作片”），Fine-ID 表征物品的细粒度特征（如 “动作片 - 吴京主演 - 2025 年上映”）；
采用分层量化策略：基于层级 k-means 构建两级码本，Coarse-ID 码本规模小（保证检索速度），Fine-ID 码本规模大（保证表征精度）。


两级非自回归并行生成
第一级：并行生成 Coarse-ID，快速缩小检索范围（候选集从百万级降至千级）；
第二级：以 Coarse-ID 为条件，并行生成 Fine-ID，避免全局无序解码；
设计层级对齐损失：约束 Coarse-ID 与 Fine-ID 的语义一致性，解决非自回归生成的语义冲突问题。


语义感知的两级检索策略
粗检索：基于 Coarse-ID 的倒排索引快速召回候选集；
精检索：基于 Fine-ID 的语义相似度排序，输出最终推荐列表。



3.  创新价值与研究内容

理论价值：首次将层级语义解耦与非自回归生成结合，解决了 “生成效率 - 精度” 的权衡问题；提出生成与检索协同优化的范式，而非孤立优化。
研究内容：
完成 HDNAG 框架的设计与实现；
对比实验验证该方法在生成速度、推荐精度上相比自回归模型（如 GPT2-based 生成器）、传统非自回归模型（如 RPG）的优势；
分析层级码本规模、检索策略对系统性能的影响。


实验可行性：可基于工业级数据集（如 MovieLens-20M，或构建大规模模拟数据集）验证效率指标，精度指标对比主流推荐模型（如 RecBole 基线）。

两个创新点的协同性与论文结构
1.  协同性

创新点 1 是 **“上游表征层”**，为下游生成提供高质量、个性化的语义 ID；
创新点 2 是 **“下游生成与检索层”**，解决上游 ID 的高效生成与落地问题；
二者形成 “表征→生成→检索” 的完整技术链路，逻辑自洽，能支撑起一篇结构完整的硕士论文。
## 实验整体架构
```angular2html
├── data/                # 数据集目录（预处理后）
├── checkpoints/         # 模型检查点（自动保存）
├── results/             # 实验结果（csv/json/可视化）
├── baseline_models/     # 基线模型（Pctx/MMQ，适配GitLab开源版）
├── main.py              # 主实验入口
├── models.py            # 原创模型PMAT + 消融实验变体
├── data_utils.py        # 数据集预处理
├── metrics.py           # 多维度评价指标
├── config.py            # 超参配置
└── utils.py             # 工具函数（检查点/结果保存）
```